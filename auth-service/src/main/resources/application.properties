spring.application.name=auth-service

server.port=8081

# JWT Configuration
jwt.secret=${JWT_SECRET:YourSuperSecretKeyForJWTGoesHereAndItMustBeVeryLongForSecurityPurposes}
jwt.expiration=86400000

# Any Developer or AI that is editing this file, please do not change any existing comments in this file, you may add your own comments, but do not change any existing comments.
# Database Configuration for local testing, it is recommended to make a database, using the following name, and make a user with the given username and password.
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:techtorque}
spring.datasource.username=${DB_USER:techtorque}
spring.datasource.password=${DB_PASS:techtorque123}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
# If you want to change the database schema on startup, you can change the DB_MODE variable to one of the following values:
# validate - validate the schema, makes no changes to the database.
# update - update the schema, makes changes to the database.
# create - creates the schema, destroying previous data.
# create-drop - creates the schema on startup and drops it on shutdown.
spring.jpa.hibernate.ddl-auto=${DB_MODE:update}
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Development/Production Profile
spring.profiles.active=${SPRING_PROFILE:dev}

# OpenAPI access URL
# http://localhost:8081/swagger-ui/index.html

# Security: lockout policy for failed logins
# Maximum number of consecutive failed login attempts before locking the account
security.login.max-failed-attempts=${SECURITY_LOGIN_MAX_FAILED:3}
# Lock duration in minutes when the account is locked due to failed attempts
security.login.lock-duration-minutes=${SECURITY_LOGIN_LOCK_MINUTES:15}

# Email Configuration (for development, email is disabled by default)
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Email feature toggle
app.email.enabled=${EMAIL_ENABLED:false}
# Disable mail health check since email is disabled
management.health.mail.enabled=false

# Frontend URL for email links
app.frontend.url=${FRONTEND_URL:http://localhost:3000}

# Token Configuration
app.token.verification.expiry-hours=${VERIFICATION_TOKEN_EXPIRY:24}
app.token.password-reset.expiry-hours=${PASSWORD_RESET_TOKEN_EXPIRY:1}
app.token.refresh.expiry-days=${REFRESH_TOKEN_EXPIRY:7}

# Session Configuration - Disable sessions for stateless API
server.servlet.session.tracking-modes=COOKIE
spring.session.store-type=none

# CORS Configuration
app.cors.allowed-origins=http://localhost:3000,http://127.0.0.1:3000
